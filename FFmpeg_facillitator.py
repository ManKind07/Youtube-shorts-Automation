import json
import numpy as np

# Example word timestamps JSON
timestamps = [{'word': ' Parents,', 'start': np.float64(0.0), 'end': np.float64(0.38)}, {'word': " what's", 'start': np.float64(0.54), 'end': np.float64(0.76)}, {'word': ' the', 'start': np.float64(0.76), 'end': np.float64(0.84)}, {'word': ' funniest', 'start': np.float64(0.84), 'end': np.float64(1.1)}, {'word': ' thing', 'start': np.float64(1.1), 'end': np.float64(1.24)}, {'word': ' your', 'start': np.float64(1.24), 'end': np.float64(1.4)}, {'word': ' child', 'start': np.float64(1.4), 'end': np.float64(1.54)}, {'word': ' has', 'start': np.float64(1.54), 'end': np.float64(1.68)}, {'word': ' ever', 'start': np.float64(1.68), 'end': np.float64(1.8)}, {'word': ' done?', 'start': np.float64(1.8), 'end': np.float64(1.92)}, {'word': ' My', 'start': np.float64(2.14), 'end': np.float64(2.14)}, {'word': ' son', 'start': np.float64(2.14), 'end': np.float64(2.34)}, {'word': ' is', 'start': np.float64(2.34), 'end': np.float64(2.54)}, {'word': ' the', 'start': np.float64(2.54), 'end': np.float64(2.64)}, {'word': ' youngest', 'start': np.float64(2.64), 'end': np.float64(2.78)}, {'word': ' of', 'start': np.float64(2.78), 'end': np.float64(3.04)}, {'word': ' four,', 'start': np.float64(3.04), 'end': np.float64(3.2)}, {'word': ' and', 'start': np.float64(3.24), 'end': np.float64(3.32)}, {'word': ' after', 'start': np.float64(3.32), 'end': np.float64(3.48)}, {'word': ' raising', 'start': np.float64(3.48), 'end': np.float64(3.68)}, {'word': ' three', 'start': np.float64(3.68), 'end': np.float64(4.0)}, {'word': ' daughters', 'start': np.float64(4.0), 'end': np.float64(4.2)}, {'word': ' before', 'start': np.float64(4.2), 'end': np.float64(4.46)}, {'word': ' him,', 'start': np.float64(4.46), 'end': np.float64(4.66)}, {'word': ' I', 'start': np.float64(4.7), 'end': np.float64(4.74)}, {'word': ' thought', 'start': np.float64(4.74), 'end': np.float64(4.96)}, {'word': ' nothing', 'start': np.float64(4.96), 'end': np.float64(5.16)}, {'word': ' could', 'start': np.float64(5.16), 'end': np.float64(5.4)}, {'word': ' surprise', 'start': np.float64(5.4), 'end': np.float64(5.58)}, {'word': ' me', 'start': np.float64(5.58), 'end': np.float64(5.76)}, {'word': ' anymore,', 'start': np.float64(5.76), 'end': np.float64(5.96)}, {'word': ' but', 'start': np.float64(6.02), 'end': np.float64(6.14)}, {'word': ' I', 'start': np.float64(6.14), 'end': np.float64(6.22)}, {'word': ' was', 'start': np.float64(6.22), 'end': np.float64(6.38)}, {'word': ' wrong.', 'start': np.float64(6.38), 'end': np.float64(6.6)}, {'word': ' When', 'start': np.float64(6.64), 'end': np.float64(6.72)}, {'word': ' he', 'start': np.float64(6.72), 'end': np.float64(6.8)}, {'word': ' was', 'start': np.float64(6.8), 'end': np.float64(6.92)}, {'word': ' five', 'start': np.float64(6.92), 'end': np.float64(7.12)}, {'word': ' years', 'start': np.float64(7.12), 'end': np.float64(7.26)}, {'word': ' old', 'start': np.float64(7.26), 'end': np.float64(7.44)}, {'word': ' and', 'start': np.float64(7.44), 'end': np.float64(7.54)}, {'word': ' just', 'start': np.float64(7.54), 'end': np.float64(7.72)}, {'word': ' a', 'start': np.float64(7.72), 'end': np.float64(7.72)}, {'word': ' few', 'start': np.float64(7.72), 'end': np.float64(7.9)}, {'word': ' weeks', 'start': np.float64(7.9), 'end': np.float64(8.04)}, {'word': ' into', 'start': np.float64(8.04), 'end': np.float64(8.24)}, {'word': ' kindergarten,', 'start': np.float64(8.24), 'end': np.float64(8.48)}, {'word': ' I', 'start': np.float64(8.68), 'end': np.float64(8.78)}, {'word': ' got', 'start': np.float64(8.78), 'end': np.float64(8.88)}, {'word': ' a', 'start': np.float64(8.88), 'end': np.float64(9.0)}, {'word': ' call', 'start': np.float64(9.0), 'end': np.float64(9.1)}, {'word': ' from', 'start': np.float64(9.1), 'end': np.float64(9.22)}, {'word': ' the', 'start': np.float64(9.22), 'end': np.float64(9.34)}, {'word': ' school.', 'start': np.float64(9.34), 'end': np.float64(9.52)}, {'word': ' Hi,', 'start': np.float64(9.62), 'end': np.float64(9.8)}, {'word': ' you', 'start': np.float64(9.92), 'end': np.float64(10.02)}, {'word': ' need', 'start': np.float64(10.02), 'end': np.float64(10.16)}, {'word': ' to', 'start': np.float64(10.16), 'end': np.float64(10.24)}, {'word': ' come', 'start': np.float64(10.24), 'end': np.float64(10.36)}, {'word': ' pick', 'start': np.float64(10.36), 'end': np.float64(10.46)}, {'word': ' up', 'start': np.float64(10.46), 'end': np.float64(10.56)}, {'word': ' your', 'start': np.float64(10.56), 'end': np.float64(10.72)}, {'word': ' son.', 'start': np.float64(10.72), 'end': np.float64(10.88)}, {'word': " He's", 'start': np.float64(10.96), 'end': np.float64(11.12)}, {'word': ' taken', 'start': np.float64(11.12), 'end': np.float64(11.22)}, {'word': ' all', 'start': np.float64(11.22), 'end': np.float64(11.36)}, {'word': ' his', 'start': np.float64(11.36), 'end': np.float64(11.46)}, {'word': ' clothes', 'start': np.float64(11.46), 'end': np.float64(11.64)}, {'word': ' off,', 'start': np.float64(11.64), 'end': np.float64(11.9)}, {'word': " won't", 'start': np.float64(11.94), 'end': np.float64(12.06)}, {'word': ' put', 'start': np.float64(12.06), 'end': np.float64(12.18)}, {'word': ' anything', 'start': np.float64(12.18), 'end': np.float64(12.36)}, {'word': ' back', 'start': np.float64(12.36), 'end': np.float64(12.58)}, {'word': ' on,', 'start': np.float64(12.58), 'end': np.float64(12.76)}, {'word': ' and', 'start': np.float64(12.76), 'end': np.float64(12.88)}, {'word': " we've", 'start': np.float64(12.88), 'end': np.float64(13.04)}, {'word': ' kept', 'start': np.float64(13.04), 'end': np.float64(13.12)}, {'word': ' him', 'start': np.float64(13.12), 'end': np.float64(13.22)}, {'word': ' in', 'start': np.float64(13.22), 'end': np.float64(13.3)}, {'word': ' the', 'start': np.float64(13.3), 'end': np.float64(13.44)}, {'word': ' bathroom', 'start': np.float64(13.44), 'end': np.float64(13.56)}, {'word': ' so', 'start': np.float64(13.56), 'end': np.float64(13.76)}, {'word': ' he', 'start': np.float64(13.76), 'end': np.float64(13.86)}, {'word': " doesn't", 'start': np.float64(13.86), 'end': np.float64(13.98)}, {'word': ' go', 'start': np.float64(13.98), 'end': np.float64(14.16)}, {'word': ' running', 'start': np.float64(14.16), 'end': np.float64(14.32)}, {'word': ' around', 'start': np.float64(14.32), 'end': np.float64(14.5)}, {'word': ' the', 'start': np.float64(14.5), 'end': np.float64(14.64)}, {'word': ' school.', 'start': np.float64(14.64), 'end': np.float64(14.76)}, {'word': ' Apparently,', 'start': np.float64(14.9), 'end': np.float64(15.18)}, {'word': ' because', 'start': np.float64(15.42), 'end': np.float64(15.62)}, {'word': " he'd", 'start': np.float64(15.62), 'end': np.float64(15.86)}, {'word': ' grown', 'start': np.float64(15.86), 'end': np.float64(15.98)}, {'word': ' up', 'start': np.float64(15.98), 'end': np.float64(16.16)}, {'word': ' in', 'start': np.float64(16.16), 'end': np.float64(16.32)}, {'word': ' a', 'start': np.float64(16.32), 'end': np.float64(16.38)}, {'word': ' house', 'start': np.float64(16.38), 'end': np.float64(16.52)}, {'word': ' full', 'start': np.float64(16.52), 'end': np.float64(16.68)}, {'word': ' of', 'start': np.float64(16.68), 'end': np.float64(16.76)}, {'word': ' girls,', 'start': np.float64(16.76), 'end': np.float64(16.96)}, {'word': ' he', 'start': np.float64(17.04), 'end': np.float64(17.16)}, {'word': ' never', 'start': np.float64(17.16), 'end': np.float64(17.3)}, {'word': ' learned', 'start': np.float64(17.3), 'end': np.float64(17.48)}, {'word': ' to', 'start': np.float64(17.48), 'end': np.float64(17.64)}, {'word': ' pee,', 'start': np.float64(17.64), 'end': np.float64(17.76)}, {'word': ' standing', 'start': np.float64(17.92), 'end': np.float64(18.06)}, {'word': ' up', 'start': np.float64(18.06), 'end': np.float64(18.26)}, {'word': ' until', 'start': np.float64(18.26), 'end': np.float64(18.42)}, {'word': ' right', 'start': np.float64(18.42), 'end': np.float64(18.56)}, {'word': ' before', 'start': np.float64(18.56), 'end': np.float64(18.76)}, {'word': ' school', 'start': np.float64(18.76), 'end': np.float64(18.98)}, {'word': ' started.', 'start': np.float64(18.98), 'end': np.float64(19.22)}, {'word': ' That', 'start': np.float64(19.34), 'end': np.float64(19.54)}, {'word': ' summer,', 'start': np.float64(19.54), 'end': np.float64(19.72)}, {'word': ' I', 'start': np.float64(19.84), 'end': np.float64(19.98)}, {'word': ' finally', 'start': np.float64(19.98), 'end': np.float64(20.2)}, {'word': ' taught', 'start': np.float64(20.2), 'end': np.float64(20.36)}, {'word': ' him', 'start': np.float64(20.36), 'end': np.float64(20.46)}, {'word': ' how', 'start': np.float64(20.46), 'end': np.float64(20.58)}, {'word': ' to', 'start': np.float64(20.58), 'end': np.float64(20.62)}, {'word': ' use', 'start': np.float64(20.62), 'end': np.float64(20.78)}, {'word': ' a', 'start': np.float64(20.78), 'end': np.float64(20.92)}, {'word': ' urinal,', 'start': np.float64(20.92), 'end': np.float64(21.1)}, {'word': ' thinking', 'start': np.float64(21.32), 'end': np.float64(21.4)}, {'word': " he'd", 'start': np.float64(21.4), 'end': np.float64(21.72)}, {'word': ' need', 'start': np.float64(21.72), 'end': np.float64(21.88)}, {'word': ' to', 'start': np.float64(21.88), 'end': np.float64(22.0)}, {'word': ' know', 'start': np.float64(22.0), 'end': np.float64(22.1)}, {'word': ' eventually.', 'start': np.float64(22.1), 'end': np.float64(22.42)}, {'word': ' Well,', 'start': np.float64(22.58), 'end': np.float64(22.84)}, {'word': ' one', 'start': np.float64(22.92), 'end': np.float64(22.98)}, {'word': ' day', 'start': np.float64(22.98), 'end': np.float64(23.1)}, {'word': ' he', 'start': np.float64(23.1), 'end': np.float64(23.18)}, {'word': ' walks', 'start': np.float64(23.18), 'end': np.float64(23.4)}, {'word': ' into', 'start': np.float64(23.4), 'end': np.float64(23.52)}, {'word': ' the', 'start': np.float64(23.52), 'end': np.float64(23.68)}, {'word': ' school', 'start': np.float64(23.68), 'end': np.float64(23.82)}, {'word': ' bathroom,', 'start': np.float64(23.82), 'end': np.float64(24.1)}, {'word': ' sees', 'start': np.float64(24.26), 'end': np.float64(24.4)}, {'word': ' the', 'start': np.float64(24.4), 'end': np.float64(24.58)}, {'word': ' urinal,', 'start': np.float64(24.58), 'end': np.float64(24.8)}, {'word': ' and', 'start': np.float64(24.8), 'end': np.float64(24.96)}, {'word': ' goes,', 'start': np.float64(24.96), 'end': np.float64(25.08)}, {'word': ' oh', 'start': np.float64(25.24), 'end': np.float64(25.38)}, {'word': ' yeah,', 'start': np.float64(25.38), 'end': np.float64(25.48)}, {'word': ' daddy', 'start': np.float64(25.64), 'end': np.float64(25.76)}, {'word': ' showed', 'start': np.float64(25.76), 'end': np.float64(25.92)}, {'word': ' me', 'start': np.float64(25.92), 'end': np.float64(26.04)}, {'word': ' how', 'start': np.float64(26.04), 'end': np.float64(26.14)}, {'word': ' to', 'start': np.float64(26.14), 'end': np.float64(26.34)}, {'word': ' use', 'start': np.float64(26.34), 'end': np.float64(26.34)}, {'word': ' this,', 'start': np.float64(26.34), 'end': np.float64(26.56)}, {'word': ' so', 'start': np.float64(26.56), 'end': np.float64(26.72)}, {'word': ' he', 'start': np.float64(26.72), 'end': np.float64(26.82)}, {'word': ' uses', 'start': np.float64(26.82), 'end': np.float64(26.96)}, {'word': ' it', 'start': np.float64(26.96), 'end': np.float64(27.2)}, {'word': ' flushes,', 'start': np.float64(27.2), 'end': np.float64(27.46)}, {'word': ' urinal,', 'start': np.float64(30.0), 'end': np.float64(30.26)}, {'word': ' sprayed', 'start': np.float64(30.32), 'end': np.float64(30.5)}, {'word': ' water', 'start': np.float64(30.5), 'end': np.float64(30.76)}, {'word': ' everywhere,', 'start': np.float64(30.76), 'end': np.float64(31.12)}, {'word': ' he', 'start': np.float64(31.36), 'end': np.float64(31.44)}, {'word': ' panicked.', 'start': np.float64(31.44), 'end': np.float64(31.64)}, {'word': ' And', 'start': np.float64(31.82), 'end': np.float64(31.88)}, {'word': ' like', 'start': np.float64(31.88), 'end': np.float64(31.98)}, {'word': ' any', 'start': np.float64(31.98), 'end': np.float64(32.08)}, {'word': ' five', 'start': np.float64(32.08), 'end': np.float64(32.22)}, {'word': '-year', 'start': np.float64(32.22), 'end': np.float64(32.3)}, {'word': '-old', 'start': np.float64(32.3), 'end': np.float64(32.4)}, {'word': ' genius,', 'start': np.float64(32.4), 'end': np.float64(32.68)}, {'word': ' decided', 'start': np.float64(32.92), 'end': np.float64(33.02)}, {'word': ' maybe', 'start': np.float64(33.02), 'end': np.float64(33.26)}, {'word': ' flushing', 'start': np.float64(33.26), 'end': np.float64(33.42)}, {'word': ' it', 'start': np.float64(33.42), 'end': np.float64(33.6)}, {'word': ' more', 'start': np.float64(33.6), 'end': np.float64(33.7)}, {'word': ' with', 'start': np.float64(33.7), 'end': np.float64(33.88)}, {'word': ' fixed', 'start': np.float64(33.88), 'end': np.float64(34.0)}, {'word': ' things.', 'start': np.float64(34.0), 'end': np.float64(34.2)}, {'word': ' Spoiler,', 'start': np.float64(34.4), 'end': np.float64(34.56)}, {'word': ' it', 'start': np.float64(34.74), 'end': np.float64(34.82)}, {'word': " didn't,", 'start': np.float64(34.82), 'end': np.float64(35.02)}, {'word': ' it', 'start': np.float64(35.14), 'end': np.float64(35.14)}, {'word': ' just', 'start': np.float64(35.14), 'end': np.float64(35.28)}, {'word': ' turned', 'start': np.float64(35.28), 'end': np.float64(35.38)}, {'word': ' the', 'start': np.float64(35.38), 'end': np.float64(35.54)}, {'word': ' whole', 'start': np.float64(35.54), 'end': np.float64(35.66)}, {'word': ' bathroom', 'start': np.float64(35.66), 'end': np.float64(35.9)}, {'word': ' into', 'start': np.float64(35.9), 'end': np.float64(36.14)}, {'word': ' a', 'start': np.float64(36.14), 'end': np.float64(36.26)}, {'word': ' mini', 'start': np.float64(36.26), 'end': np.float64(36.42)}, {'word': '-water', 'start': np.float64(36.42), 'end': np.float64(36.62)}, {'word': ' park.', 'start': np.float64(36.62), 'end': np.float64(36.84)}, {'word': ' And', 'start': np.float64(36.92), 'end': np.float64(37.02)}, {'word': ' now', 'start': np.float64(37.02), 'end': np.float64(37.1)}, {'word': " he's", 'start': np.float64(37.1), 'end': np.float64(37.4)}, {'word': ' soaked,', 'start': np.float64(37.4), 'end': np.float64(37.42)}, {'word': ' so', 'start': np.float64(37.6), 'end': np.float64(37.7)}, {'word': ' naturally', 'start': np.float64(37.7), 'end': np.float64(37.9)}, {'word': ' he', 'start': np.float64(37.9), 'end': np.float64(38.1)}, {'word': ' does', 'start': np.float64(38.1), 'end': np.float64(38.24)}, {'word': ' what', 'start': np.float64(38.24), 'end': np.float64(38.34)}, {'word': " he'd", 'start': np.float64(38.34), 'end': np.float64(38.46)}, {'word': ' do', 'start': np.float64(38.46), 'end': np.float64(38.5)}, {'word': ' at', 'start': np.float64(38.5), 'end': np.float64(38.64)}, {'word': ' home.', 'start': np.float64(38.64), 'end': np.float64(38.86)}, {'word': ' Strips', 'start': np.float64(38.96), 'end': np.float64(39.1)}, {'word': ' down', 'start': np.float64(39.1), 'end': np.float64(39.34)}, {'word': ' completely,', 'start': np.float64(39.34), 'end': np.float64(39.66)}, {'word': ' and', 'start': np.float64(39.84), 'end': np.float64(39.96)}, {'word': ' keeps', 'start': np.float64(39.96), 'end': np.float64(40.14)}, {'word': ' playing.', 'start': np.float64(40.14), 'end': np.float64(40.34)}, {'word': ' 10', 'start': np.float64(40.48), 'end': np.float64(40.64)}, {'word': ' minutes', 'start': np.float64(40.64), 'end': np.float64(40.82)}, {'word': ' go', 'start': np.float64(40.82), 'end': np.float64(41.0)}, {'word': ' by', 'start': np.float64(41.0), 'end': np.float64(41.12)}, {'word': ' before', 'start': np.float64(41.12), 'end': np.float64(41.36)}, {'word': ' someone', 'start': np.float64(41.36), 'end': np.float64(41.58)}, {'word': ' finds', 'start': np.float64(41.58), 'end': np.float64(41.8)}, {'word': ' him', 'start': np.float64(41.8), 'end': np.float64(41.98)}, {'word': ' in', 'start': np.float64(41.98), 'end': np.float64(42.08)}, {'word': ' there', 'start': np.float64(42.08), 'end': np.float64(42.2)}, {'word': ' and', 'start': np.float64(42.2), 'end': np.float64(42.3)}, {'word': ' realizes,', 'start': np.float64(42.3), 'end': np.float64(42.52)}, {'word': ' oh', 'start': np.float64(42.9), 'end': np.float64(42.96)}, {'word': ' my', 'start': np.float64(42.96), 'end': np.float64(43.14)}, {'word': ' goodness,', 'start': np.float64(43.14), 'end': np.float64(43.34)}, {'word': ' this', 'start': np.float64(43.5), 'end': np.float64(43.66)}, {'word': ' is', 'start': np.float64(43.66), 'end': np.float64(43.76)}, {'word': ' a', 'start': np.float64(43.76), 'end': np.float64(43.86)}, {'word': ' problem.', 'start': np.float64(43.86), 'end': np.float64(44.04)}, {'word': ' They', 'start': np.float64(44.42), 'end': np.float64(44.56)}, {'word': ' try', 'start': np.float64(44.56), 'end': np.float64(44.68)}, {'word': ' handing', 'start': np.float64(44.68), 'end': np.float64(44.86)}, {'word': ' him', 'start': np.float64(44.86), 'end': np.float64(45.08)}, {'word': ' dry', 'start': np.float64(45.08), 'end': np.float64(45.24)}, {'word': ' clothes,', 'start': np.float64(45.24), 'end': np.float64(45.44)}, {'word': ' he', 'start': np.float64(45.58), 'end': np.float64(45.72)}, {'word': ' throws', 'start': np.float64(45.72), 'end': np.float64(45.84)}, {'word': ' them', 'start': np.float64(45.84), 'end': np.float64(46.0)}, {'word': ' back', 'start': np.float64(46.0), 'end': np.float64(46.18)}, {'word': ' out.', 'start': np.float64(46.18), 'end': np.float64(46.36)}, {'word': ' And', 'start': np.float64(46.4), 'end': np.float64(46.52)}, {'word': ' because', 'start': np.float64(46.52), 'end': np.float64(46.64)}, {'word': " it's", 'start': np.float64(46.64), 'end': np.float64(46.8)}, {'word': ' an', 'start': np.float64(46.8), 'end': np.float64(46.8)}, {'word': ' American', 'start': np.float64(46.8), 'end': np.float64(47.04)}, {'word': ' school,', 'start': np.float64(47.04), 'end': np.float64(47.42)}, {'word': ' no', 'start': np.float64(47.48), 'end': np.float64(47.56)}, {'word': " one's", 'start': np.float64(47.56), 'end': np.float64(47.72)}, {'word': ' allowed', 'start': np.float64(47.72), 'end': np.float64(47.88)}, {'word': ' to', 'start': np.float64(47.88), 'end': np.float64(48.02)}, {'word': ' force', 'start': np.float64(48.02), 'end': np.float64(48.14)}, {'word': ' him', 'start': np.float64(48.14), 'end': np.float64(48.24)}, {'word': ' to', 'start': np.float64(48.24), 'end': np.float64(48.32)}, {'word': ' get', 'start': np.float64(48.32), 'end': np.float64(48.42)}, {'word': ' dressed,', 'start': np.float64(48.42), 'end': np.float64(48.66)}, {'word': ' so', 'start': np.float64(48.8), 'end': np.float64(48.9)}, {'word': ' it', 'start': np.float64(48.9), 'end': np.float64(48.98)}, {'word': ' became', 'start': np.float64(48.98), 'end': np.float64(49.14)}, {'word': ' a', 'start': np.float64(49.14), 'end': np.float64(49.28)}, {'word': ' game.', 'start': np.float64(49.28), 'end': np.float64(49.42)}, {'word': ' Him', 'start': np.float64(49.54), 'end': np.float64(49.8)}, {'word': ' versus', 'start': np.float64(49.8), 'end': np.float64(50.04)}, {'word': ' the', 'start': np.float64(50.04), 'end': np.float64(50.24)}, {'word': ' entire', 'start': np.float64(50.24), 'end': np.float64(50.44)}, {'word': ' staff,', 'start': np.float64(50.44), 'end': np.float64(50.72)}, {'word': ' and', 'start': np.float64(50.78), 'end': np.float64(50.9)}, {'word': ' he', 'start': np.float64(50.9), 'end': np.float64(50.98)}, {'word': ' was', 'start': np.float64(50.98), 'end': np.float64(51.14)}, {'word': ' winning.', 'start': np.float64(51.14), 'end': np.float64(51.22)}, {'word': ' It', 'start': np.float64(51.36), 'end': np.float64(51.48)}, {'word': ' all', 'start': np.float64(51.48), 'end': np.float64(51.58)}, {'word': ' ended', 'start': np.float64(51.58), 'end': np.float64(51.74)}, {'word': ' when', 'start': np.float64(51.74), 'end': np.float64(51.88)}, {'word': ' I', 'start': np.float64(51.88), 'end': np.float64(52.0)}, {'word': ' showed', 'start': np.float64(52.0), 'end': np.float64(52.1)}, {'word': ' up.', 'start': np.float64(52.1), 'end': np.float64(52.3)}, {'word': ' The', 'start': np.float64(52.32), 'end': np.float64(52.44)}, {'word': ' second', 'start': np.float64(52.44), 'end': np.float64(52.58)}, {'word': ' he', 'start': np.float64(52.58), 'end': np.float64(52.74)}, {'word': ' saw', 'start': np.float64(52.74), 'end': np.float64(52.82)}, {'word': ' me,', 'start': np.float64(52.82), 'end': np.float64(53.08)}, {'word': ' he', 'start': np.float64(53.14), 'end': np.float64(53.2)}, {'word': ' just', 'start': np.float64(53.2), 'end': np.float64(53.38)}, {'word': ' sighed.', 'start': np.float64(53.38), 'end': np.float64(53.58)}, {'word': ' He', 'start': np.float64(53.68), 'end': np.float64(53.82)}, {'word': ' knew', 'start': np.float64(53.82), 'end': np.float64(53.92)}, {'word': ' the', 'start': np.float64(53.92), 'end': np.float64(54.0)}, {'word': ' game', 'start': np.float64(54.0), 'end': np.float64(54.12)}, {'word': ' was', 'start': np.float64(54.12), 'end': np.float64(54.28)}, {'word': ' over.', 'start': np.float64(54.28), 'end': np.float64(54.38)}, {'word': ' I', 'start': np.float64(54.5), 'end': np.float64(54.62)}, {'word': ' walked', 'start': np.float64(54.62), 'end': np.float64(54.76)}, {'word': ' him', 'start': np.float64(54.76), 'end': np.float64(54.9)}, {'word': ' out,', 'start': np.float64(54.9), 'end': np.float64(55.06)}, {'word': ' trying', 'start': np.float64(55.12), 'end': np.float64(55.24)}, {'word': ' my', 'start': np.float64(55.24), 'end': np.float64(55.42)}, {'word': ' best', 'start': np.float64(55.42), 'end': np.float64(55.56)}, {'word': ' to', 'start': np.float64(55.56), 'end': np.float64(55.64)}, {'word': ' keep', 'start': np.float64(55.64), 'end': np.float64(55.8)}, {'word': ' my', 'start': np.float64(55.8), 'end': np.float64(55.98)}, {'word': ' serious', 'start': np.float64(55.98), 'end': np.float64(56.18)}, {'word': ' dad', 'start': np.float64(56.18), 'end': np.float64(56.44)}, {'word': ' face', 'start': np.float64(56.44), 'end': np.float64(56.64)}, {'word': ' on,', 'start': np.float64(56.64), 'end': np.float64(56.8)}, {'word': ' but', 'start': np.float64(56.8), 'end': np.float64(56.96)}, {'word': ' I', 'start': np.float64(56.96), 'end': np.float64(57.02)}, {'word': ' was', 'start': np.float64(57.02), 'end': np.float64(57.18)}, {'word': ' dying', 'start': np.float64(57.18), 'end': np.float64(57.34)}, {'word': ' inside', 'start': np.float64(57.34), 'end': np.float64(57.62)}, {'word': ' from', 'start': np.float64(57.62), 'end': np.float64(57.84)}, {'word': ' laughter,', 'start': np.float64(57.84), 'end': np.float64(58.04)}, {'word': ' the', 'start': np.float64(58.18), 'end': np.float64(58.24)}, {'word': ' whole', 'start': np.float64(58.24), 'end': np.float64(58.3)}, {'word': ' way', 'start': np.float64(58.3), 'end': np.float64(58.44)}, {'word': ' home.', 'start': np.float64(58.44), 'end': np.float64(58.54)}]
#Process Completed


ass_file = "words_karaoke.ass"

def format_ass_time(seconds: float) -> str:
    h = int(seconds // 3600)
    m = int((seconds % 3600) // 60)
    s = int(seconds % 60)
    cs = int(round((seconds - int(seconds)) * 100))
    return f"{h}:{m:02d}:{s:02d}.{cs:02d}"

with open(ass_file, "w", encoding="utf-8") as f:
    # Header
    f.write("""[Script Info]
ScriptType: v4.00+
PlayResX: 1280
PlayResY: 720
Timer: 100.0000

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: WordStyle,ChunkFive Print,60,&H00FFFFFF,&H000000FF,&H00000000,&H64000000,-1,0,0,0,100,100,0,0,1,3,2,5,10,10,20,1



[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
""")

    for item in timestamps:
        start_time = format_ass_time(item["start"] + 2)
        end_time = format_ass_time(item["end"] + 2)
        word = item["word"].replace(",", r"\,")  # escape commas

        # Apply karaoke-style fade-in/out using \fad (fadein, fadeout)
        # \an 5 centers it both horizontally and vertically
        f.write(f"Dialogue: 0,{start_time},{end_time},WordStyle,,0,0,0,," 
                f"{{\\an5\\fad(100,100)}}{word}\n")

print(f"Karaoke ASS subtitles saved to {ass_file}")

# FFmpeg command to overlay subtitles + audio
video_file = "output.mp4"
audio_file = "audio.mp3"
output_file = "final.mp4"

ffmpeg_command = f'ffmpeg -i "{video_file}" -i "{audio_file}" -vf "ass={ass_file}" -c:a aac "{output_file}"'
print("Run this command to overlay subtitles and audio:\n")
print(ffmpeg_command)
